<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- INICIO $Id: default-cabecera.php,v 1.9 2007-03-06 11:50:54 des Exp $ -->

<html lang="es">

<head>

<title>::: Introducción a sistemas de control de versiones, ejemplos de darcs :::</title>

<!-- INICIO $Id: default-estilo.php,v 1.5 2005/05/22 20:49:28 luca Exp $ -->
  <link rel="stylesheet" href="../../../../css/lugfi.css" type="text/css">
  <link rel="stylesheet" href="../../style-notitas.css" type="text/css">
<!-- FIN $Id: default-estilo.php,v 1.5 2005/05/22 20:49:28 luca Exp $ -->

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="Description" content="Introducción a sistemas de control de versiones, ejemplos de darcs">
<link rel="shortcut icon" href="../../../../favicon.ico">

</head>

<!-- FIN $Id: default-head.php,v 1.3 2006/11/23 19:55:33 lugfi Exp $ -->


<body>

<table border="0" cellpadding="1" cellspacing="0" width="100%" align="center">
<tr><td width="100%" height="100%" class="LugFI-Top">

 <table border="0" cellpadding="0" cellspacing="0" width="100%">
 <tr><td width="52%" class="LugFI-LogoLeft">

 <!-- Beg Logo -->
 <a href="../../../..">
 <img src="../../../../logos/logo.png" alt="Logo LugFi" border="0" class="bottom"></a>
 <!-- End Logo -->

 </td>

 <td width="48%" class="LugFI-LogoRight">

 <!-- INICIO $Id: default-banner.php,v 1.9 2007-01-06 00:21:04 des Exp $ -->

  <!-- Beg Marco Banners -->
  <!-- Defino un marco para banners estandares de 234x60 -->

  <table border="0" cellpadding="1" cellspacing="0" width="234" align="center">
  <tr><td width="100%" class="LugFI-BannerDiv1" height="62">

   <table border="0" cellpadding="1" cellspacing="0" width="100%">
   <tr><td width="100%" class="LugFI-BannerDiv2" height="61">

    <table border="0" cellpadding="1" cellspacing="0" width="100%">
    <tr><td width="100%" class="LugFI-BannerDiv3" height="60">

    <a href="http://unlux.com.ar/index.php?option=com_content&task=view&id=27&Itemid=1"><img src="../../../../images/Banner_Lujan_cdc2008.gif" alt="Ciclo de charlas UNLUX 2008 - "Integrando Disciplinas"" border="0" class="bottom"></a>

    </td></tr>
    </table>

   </td></tr>
   </table>

  </td></tr>
  </table>

  <!-- End Marco Banners -->

<!-- FIN $Id: default-banner.php,v 1.9 2007-01-06 00:21:04 des Exp $ -->

 </td></tr>
 </table>

</td></tr>


<tr><td width="100%" class="LugFI-TopNavBar">

<!-- Beg StatBar -->

 <table border="0" cellpadding="0" cellspacing="0" width="100%">
 <tr><td width="28%" class="LugFI-StatBar-Left">
 &nbsp;:: Sunday 01, November 2009 - Argentina ::
 </td>

 <td width="44%" class="LugFI-StatBar-Center">
  :: ¿Qué es 200 veces peor que OS/2?: AS-400.
		-- Www.frases.com. 
 ::
 </td>

 <td width="28%" class="LugFI-StatBar-Right">
 <form method="post" action="/cgi-bin/htsearch">
  <input type=hidden name=config value="htdig">
  <input type="text" name="words" value="Ingresar busqueda" onFocus="this.value=''" class="Top_Search">
  <input type="submit" name="submit" value="Buscar" class="Top_Search_Button">
 </form>
 </td></tr>
 </table>


<!-- End StatBar -->

</td></tr>

<tr><td width="100%" class="LugFI-TopNavBar">

<!-- Beg StatBar -->
<!-- INICIO $Id: default-barra.php,v 1.2 2004/04/28 04:09:24 emiliano Exp $ -->

<!-- Beg StatBar -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>

<td width="14%" class="LugFI-TopLinks">
 <b>::</b>
 <A href="../../../../acerca/" class="Section">Acerca de</A>
 <b>::</b>
</td>

<td width="14%" class="LugFI-TopLinks">
 <b>::</b>
 <A href="../../../../documentos/" class="Section">Documentos
</A>
 <b>::</b>
</td>

<td width="14%" class="LugFI-TopLinks">
 <b>::</b>
 <A href="../../../../eventos/" class="Section">Eventos
</A>
 <b>::</b>
</td>

<td width="14%" class="LugFI-TopLinks">
 <b>::</b>
 <A href="../../../../integrantes/" class="Section">Integrantes</A>
 <b>::</b>
</td>

<td width="14%" class="LugFI-TopLinks">
 <b>::</b>
 <A href="../../../../listas/" class="Section">Listas</A>
 <b>::</b>
</td>

<td width="14%" class="LugFI-TopLinks">
 <b>::</b>
 <A href="../../../../proyectos/" class="Section">Proyectos
</A>
 <b>::</b>
</td>

<td width="14%" class="LugFI-TopLinks">
 <b>::</b>
 <A href="../../../../servicios/" class="Section">Servicios
</A>
 <b>::</b>
</td>
</tr>
</table>

<!-- FIN $Id: default-barra.php,v 1.2 2004/04/28 04:09:24 emiliano Exp $ -->
<!-- End StatBar -->

</td></tr>
</table>


<table border="0" cellpadding="0" cellspacing="0" width="100%" align="center">
<tr><td width="100%" class="LugFI-Contenedor">
<!-- Beg Contenedor -->

<!-- INICIO $Id: default-menu.php,v 1.4 2004/07/25 19:49:08 luca Exp $ -->


 <table border="0" cellpadding="0" cellspacing="0" width="100%">
 <tr><td width="20%" class="LugFI-SideBar">

  <table border="0" cellpadding="0" cellspacing="0" width="100%">
  <!-- Beg NavLink-->
		 
       
<tr><td width="100%" class="LugFI-MenuSec">
&nbsp;
<span style="MenuSection">»</span>
<a class="Menu" href="../../../../">Página Inicial
</a>
</td></tr>

   
<tr><td width="100%" class="LugFI-MenuSec">
&nbsp;
<span style="MenuSection">»</span>
<a class="Menu" href="../../../">Documentos del LugFi
</a>
</td></tr>

   
<tr><td width="100%" class="LugFI-MenuSec">
&nbsp;
<span style="MenuSection">»</span>
<a class="Menu" href="../../../faq-lugfi/">FAQ General del LUGFI
</a>
</td></tr>

   
<tr><td width="100%" class="LugFI-MenuSec">
&nbsp;
<span style="MenuSection">»</span>
<a class="Menu" href="../../../faq-subversion/">Introducción a Subversion
</a>
</td></tr>

   
<tr><td width="100%" class="LugFI-MenuSec">
&nbsp;
<span style="MenuSection">»</span>
<a class="Menu" href="../../../gateway/">Configuración de un Gateway
</a>
</td></tr>

   
<tr><td width="100%" class="LugFI-MenuSec">
&nbsp;
<span style="MenuSection">»</span>
<a class="Menu" href="../../../lista-herramientas/">Programas para ingeniería
</a>
</td></tr>

   
<tr><td width="100%" class="LugFI-MenuSec">
&nbsp;
<span style="MenuSection">»</span>
<a class="Menu" href="../../../tp-generico/">TPs en LaTeX
</a>
</td></tr>

   
<tr><td width="100%" class="LugFI-MenuSec">
&nbsp;
<span style="MenuSection">»</span>
<a class="Menu" href="../../../tablas/">Tablas en LaTeX
</a>
</td></tr>

   
<tr><td width="100%" class="LugFI-MenuSec">
&nbsp;
<span style="MenuSection">»</span>
<a class="Menu" href="../../../scms/">SCMs
</a>
</td></tr>

   
<tr><td width="100%" class="LugFI-MenuSec">
&nbsp;
<span style="MenuSection">»</span>
<a class="Menu" href="../../../glosarios/">Glosarios en LaTeX
</a>
</td></tr>

  

<!-- FIN $Id: default-menu.php,v 1.4 2004/07/25 19:49:08 luca Exp $ -->

  <!-- End NavLink-->

  <tr><td width="100%" class="LugFI-MenuDivA">
  &nbsp;
  </td></tr>

  <!-- Encuestas -->
    
  </table>

 </td>

 <td valign="top" width="80%" height="100%">
 <!-- Beg Contenido -->
     
  <table border="0" cellpadding="0" cellspacing="0" width="99%" align="center">
  <tr><td width="100%" height="100%" class="LugFI-Principal">
    

<!--
                                    -->
<!-- FIN $Id: default-cabecera.php,v 1.9 2007-03-06 11:50:54 des Exp $ -->

<h2>Ejemplo 3 - Chocamos</h2>

Si bien si somos ordenados al trabajar no deberia darse comunmente, los
conflictos entre merges son un tema muy importante porque si no son manejados
correctamente pueden acarrear serios problemas en el repositorio.<br>
Veamos como generar uno simple, y como corregirlo.<p>

Vamos a arrancar con un repositorio base del cual hacemos get para obtener dos
repositorios independientes, en los cuales realizamos cambios de forma
aislada.<br>

<pre>
<tt class=nota>Partimos de una base comun; mostramos los cambios</tt>
# cd base
# darcs chan
Wed May 18 02:57:06 ART 2005  Base &lt;base@ej.com.ar&gt;
  * Agregamos el archivo inicial.
<tt class=nota>Mostramos un poco del archivo "cancion"</tt>
# cat cancion
Tú surgías desde el Cono Sur
y venías desde antes,
con el amor al mundo bien adentro.
Fuk unx kstrkllx quk tk puso xquí
y tk hizo dk kstk pukblo.
Dk grxtitud nxcikron muchos hombrks
quk iguxl quk tú,
no qukríxn quk tk fukrxs
y son otros desde entonces.
[...]
# cd ..
#
<tt class=nota>Hacemos un get de base, creando un nuevo repo A</tt>
# darcs get base A
Copying patch 1 of 1... done!
Finished getting.
#
<tt class=nota>Y ahora creamos B</tt>
# darcs get base B
Copying patch 1 of 1... done!
Finished getting.
#
</pre>

<pre>
<tt class=nota>Tenemos tres repos iguales, vamos a hacer un cambio en A y a
arreglar un poco el archivo de arriba.</tt>
# cd A
# vi cancion
<tt class=nota>Uno de los problemas con el archivo es que algunas 'a's estan
cambiadas por 'x's, editamos para arreglar eso; y luego hacemos un record</tt>
# darcs record
[...]
# darcs changes --last=1
Wed May 18 03:01:42 ART 2005  Fulano A &lt;a@fulano.com.ar&gt;
  * Arreglar la letra A.
# cd ..
#
<tt class=nota>Vamos ahora a hacer un cambio en B.</tt>
# cd B
# vi cancion
<tt class=nota>Como antes, arreglamos "cancion", cambiando 'k's por 'e's</tt>
# darcs record
[...]
# darcs changes --last=1
Wed May 18 03:08:00 ART 2005  Fulano B &lt;b@fulano.com.ar&gt;
  * Arreglar la letra E.
# cd ..
#
</pre>

Miremos un poco como estan los archivos hasta ahora.<br>

<pre>
<tt class=nota>El archivo base</tt>
# cat base/cancion
Tú surgías desde el Cono Sur
y venías desde antes,
con el amor al mundo bien adentro.
Fuk unx kstrkllx quk tk puso xquí
y tk hizo dk kstk pukblo.
Dk grxtitud nxcikron muchos hombrks
quk iguxl quk tú,
no qukríxn quk tk fukrxs
y son otros desde entonces.
[...]
#
<tt class=nota>El archivo del repositorio A</tt>
# cat A/cancion
Tú surgías desde el Cono Sur
y venías desde antes,
con el amor al mundo bien adentro.
Fuk una kstrklla quk tk puso aquí
y tk hizo dk kstk pukblo.
Dk gratitud nacikron muchos hombrks
quk igual quk tú,
no qukrían quk tk fukras
y son otros desde entonces.
[...]
#
<tt class=nota>El archivo del repositorio B</tt>
# cat B/cancion
Tú surgías desde el Cono Sur
y venías desde antes,
con el amor al mundo bien adentro.
Fue unx estrellx que te puso xquí
y te hizo de este pueblo.
De grxtitud nxcieron muchos hombres
que iguxl que tú,
no queríxn que te fuerxs
y son otros desde entonces.
[...]
#
</pre>

Vamos a tratar de incorporar los cambios de B en A.

<pre>
# cd A
# darcs pull ../B
Wed May 18 03:08:00 ART 2005  Fulano B &lt;b@fulano.com.ar&gt;
  * Arreglar la letra E.
Shall I pull this patch? (1/1) [ynWvxqadjk], or ? for help: y
We have conflicts in the following files:
./cancion
Finished pulling and applying.
#
</pre>

Como vemos, nos dijo que habia conflictos en el archivo. Esto es esperable,
dado que darcs solo no puede resolver los cambios pues afectan a las mismas
lineas de los archivos, y no hay una forma en la que pueda aplicar los cambios
sin garantizar que no se generan problemas.<p>
Por eso nos avisa, para que nosotros "conciliemos" los dos cambios y dejemos
una version valida. Entonces vemos que hay en el archivo con conflictos, y lo
editamos para dejar una version definitiva.<br>

<pre>
# cat cancion
Tú surgías desde el Cono Sur
y venías desde antes,
con el amor al mundo bien adentro.
v v v v v v v
Fue unx estrellx que te puso xquí
y te hizo de este pueblo.
De grxtitud nxcieron muchos hombres
que iguxl que tú,
no queríxn que te fuerxs
*************
Fuk una kstrklla quk tk puso aquí
y tk hizo dk kstk pukblo.
Dk gratitud nacikron muchos hombrks
quk igual quk tú,
no qukrían quk tk fukras
^ ^ ^ ^ ^ ^ ^
y son otros desde entonces.
[...]
#
<tt class=nota>Nos encierra entre "v v v v" y "^ ^ ^ ^" las dos "versiones",
una de cada cambio, y espera que nosotros dejemos una definitiva, para lo cual
editamos. En este caso tenemos que hacer varios reemplazos a mano para que
quede una version completa.</tt>
# vi cancion
# cat cancion
Tú surgías desde el Cono Sur
y venías desde antes,
con el amor al mundo bien adentro.
Fue una estrella que te puso aquí
y te hizo de este pueblo.
De gratitud nacieron muchos hombres
que igual que tú,
no querían que te fueras
y son otros desde entonces.
[...]
#
<tt class=nota>Entonces hacemos un record, para grabar este patch
"conciliador"</tt>
# darcs record
[...]
#
<tt class=nota>Vemos todo el historial de cambios</tt>
# darcs changes
Wed May 18 03:21:22 ART 2005  Fulano A &lt;a@fulano.com.ar&gt;
  * Conciliamos el conflicto.

Wed May 18 03:08:00 ART 2005  Fulano B &lt;b@fulano.com.ar&gt;
  * Arreglar la letra E.

Wed May 18 03:01:42 ART 2005  Fulano A &lt;a@fulano.com.ar&gt;
  * Arreglar la letra A.

Wed May 18 02:57:06 ART 2005  Base &lt;base@ej.com.ar&gt;
  * Agregamos el archivo inicial.
#
</pre>

<!-- INICIO $Id: default-pie.php,v 1.2 2004/04/28 04:09:24 emiliano Exp $ -->

  </td></tr>
  </table>

 <!-- End Contenido -->
 </td></tr>
 </table>


<!-- End Contenedor -->
</td></tr>
</table>

       
<p>
	    
<!-- Epígrafe -->
<!-- /Epígrafe -->

<p>

<!-- ## Footer ## -->
<table cellspacing="0" width="80%" align="center">
<tr><td width="100%" class="Footer_Frame">

 <table cellspacing="0" width="90%" align="center">
 <tr><td width="49%" class="Footer_Frame">

 
  <table cellspacing="0" width="90%" align="center">
  <tr><td width="100%" class="Footer_Devel">
  <a href="../../../.." >LUGFI</a>
  &copy; Copyleft 2002-2009 - Bajo Licencia GPL
  </td></tr>
  </table>

  
 </td>
 
 <td width="2%" class="Footer_Frame">
 &nbsp;|&nbsp;
 </td>

 <td width="49%" class="Footer_Frame">
  
  <table cellspacing="0" width="90%" align="center">
  <tr><td width="50%" class="Footer_Devel">
  <!-- INICIO $Id: default-epigrafe.php,v 1.2 2004/04/28 04:09:24 emiliano Exp $ -->
<DIV CLASS="epigrafe" ALIGN="center">
    Última actualización: Fri Sep 22 19:04:40 2006</DIV>
<!-- FIN $Id: default-epigrafe.php,v 1.2 2004/04/28 04:09:24 emiliano Exp $ -->
  </td></tr>
  </table>
 
 </td></tr>

 </table>

</td></tr>
</table>
<!-- / ## Footer ## -->

</body>
</html>
<!-- FIN $Id: default-pie.php,v 1.2 2004/04/28 04:09:24 emiliano Exp $ -->
